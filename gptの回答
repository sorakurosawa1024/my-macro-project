ä¿®æ­£æ¸ˆã¿ã®Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆå…¨æ–‡
ä»¥ä¸‹ã¯ã€ã€Œæ—¥æœ¬ã®å®Ÿè³ªGDPãƒ‡ãƒ¼ã‚¿ã€ã«å¯¾ã—ã¦HPãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’Î»=10, 100, 1600ã§é©ç”¨ã—ã€çµæœã‚’æ¯”è¼ƒãƒ»å¯è¦–åŒ–ã™ã‚‹å®Œå…¨ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚

python
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import statsmodels.api as sm
from pandas_datareader import data as web

# ---- è¨­å®š ----
plt.style.use('ggplot')
start_date = '1980-01-01'
end_date = '2022-01-01'
country_code = 'JP'
gdp_series_id = 'JPNRGDPEXP'  # æ—¥æœ¬ã®å®Ÿè³ªGDP (FRED)

# ---- 1. ãƒ‡ãƒ¼ã‚¿å–å¾— ----
gdp = web.DataReader(gdp_series_id, 'fred', start_date, end_date)
gdp.dropna(inplace=True)

# ---- 2. è‡ªç„¶å¯¾æ•°å¤‰æ› ----
log_gdp = np.log(gdp)

# ---- 3. HPãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã®é©ç”¨ï¼ˆÎ»=10, 100, 1600ï¼‰ ----
lambdas = [10, 100, 1600]
trends = {}
cycles = {}

for lam in lambdas:
    cycle, trend = sm.tsa.filters.hpfilter(log_gdp, lamb=lam)
    trends[lam] = trend
    cycles[lam] = cycle

# ---- 4. å¯è¦–åŒ– ----

# ã‚°ãƒ©ãƒ•1ï¼šå…ƒãƒ‡ãƒ¼ã‚¿ã¨ãƒˆãƒ¬ãƒ³ãƒ‰æˆåˆ†
plt.figure(figsize=(12, 6))
plt.plot(log_gdp, label='Log Real GDP', color='black', linewidth=2)
for lam in lambdas:
    plt.plot(trends[lam], label=f'Trend (Î»={lam})')
plt.title('Japan Log Real GDP and HP Trends (Î»=10, 100, 1600)')
plt.xlabel('Date')
plt.ylabel('Log GDP')
plt.legend()
plt.tight_layout()
plt.savefig("japan_gdp_trends.png", dpi=300)
plt.show()

# ã‚°ãƒ©ãƒ•2ï¼šå¾ªç’°æˆåˆ†ã®æ¯”è¼ƒ
plt.figure(figsize=(12, 6))
for lam in lambdas:
    plt.plot(cycles[lam], label=f'Cycle (Î»={lam})')
plt.title('Japan GDP Cyclical Component via HP Filter')
plt.xlabel('Date')
plt.ylabel('Deviation from Trend (log)')
plt.axhline(0, color='black', linestyle='--', linewidth=1)
plt.legend()
plt.tight_layout()
plt.savefig("japan_gdp_cycles.png", dpi=300)
plt.show()
ğŸ“Š è£œè¶³èª¬æ˜
Î»=10ï¼š ãƒˆãƒ¬ãƒ³ãƒ‰ãŒã‚ˆã‚Šç´°ã‹ãå‹•ã â†’ å¾ªç’°æˆåˆ†ã¯ã‚ˆã‚Šæ»‘ã‚‰ã‹ã§å°ã•ããªã‚‹

Î»=1600ï¼ˆæ¨å¥¨ï¼‰ï¼š æ¨™æº–çš„ãªå››åŠæœŸãƒ‡ãƒ¼ã‚¿å‘ã‘ã®ã‚¹ãƒ ãƒ¼ã‚¸ãƒ³ã‚° â†’ ãƒˆãƒ¬ãƒ³ãƒ‰ãŒæ»‘ã‚‰ã‹ã§ã€å¾ªç’°æˆåˆ†ãŒæ™¯æ°—å¤‰å‹•ã‚’ã‚ˆãåæ˜ 

Î»=100ï¼š ä¸­é–“çš„ãªæ»‘ã‚‰ã‹ã•

ğŸ”„ å®Ÿè¡Œæ–¹æ³•
ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ gdp_hpfilter_analysis.py ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ï¼š

bash
ã‚³ãƒ”ãƒ¼ã™ã‚‹
ç·¨é›†ã™ã‚‹
python gdp_hpfilter_analysis.py
PNGãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦2æšã®å›³ (japan_gdp_trends.png ã¨ japan_gdp_cycles.png) ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚
